(function(r,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r["vue-hot-toast"]={},r.Vue))})(this,function(r,t){"use strict";const f=["onClick"],p={class:"VueHotToast__icon"},_={key:0,class:"VueHotToast__checkmark"},m={key:1,class:"VueHotToast__error"},g={key:2,class:"VueHotToast__loading"},x={class:"content"},y={class:"content-message"},h=t.defineComponent({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{}},emits:["close"],setup(e,{emit:o}){const n=e,s=t.ref(null),i=t.ref(0),l=t.ref(0),u=()=>{o("close")};return t.watchEffect(()=>{n.autoClose&&(i.value=Date.now(),l.value=n.duration,s.value=setTimeout(u,l.value))}),(c,H)=>(t.openBlock(),t.createElementBlock("div",{class:"VueHotToast__toast",style:t.normalizeStyle(`--toast-duration: ${c.duration}s;`),onClick:t.withModifiers(u,["prevent"])},[t.createElementVNode("div",p,[c.type==="success"?(t.openBlock(),t.createElementBlock("div",_)):t.createCommentVNode("",!0),c.type==="error"?(t.openBlock(),t.createElementBlock("div",m)):t.createCommentVNode("",!0),c.type==="loading"?(t.openBlock(),t.createElementBlock("div",g)):t.createCommentVNode("",!0)]),t.createElementVNode("div",x,[t.createElementVNode("div",y,t.toDisplayString(c.message),1)])],12,f))}}),k={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3};function T(){let e=new Date().getTime();var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n=="x"?s:s&3|8).toString(16)});return o}const a=t.reactive({notifications:[]}),d=function(){const e=o=>{const n=Object.assign({...k},o),s=T();return a.notifications.push({id:s,...n}),s};return e.update=(o,n)=>{const s=a.notifications.findIndex(i=>i.id===o);if(s===-1)throw e(n),new Error("Can't find toast");return Object.assign(a.notifications[s],n),o},e._handleOptions=(o,n)=>{const s=Object.assign(n??{},{type:o});return e(s)},e.loading=(o,n)=>e._handleOptions("loading",Object.assign(n??{},{message:o})),e.success=(o,n)=>e._handleOptions("success",Object.assign(n??{},{message:o})),e.error=(o,n)=>e._handleOptions("error",Object.assign(n??{},{message:o})),e.promise=(o,n)=>{const s=e.loading(n.loading);return o.then(i=>(e.update(s,{message:n.success,type:"success"}),s)).catch(i=>{throw e.update(s,{message:n.error,type:"error"}),i})},e}(),C=e=>{const o=a.notifications.findIndex(n=>n.id===e);o!==-1&&a.notifications.splice(o,1)},V={class:"VueHotToast__toast-container"},E=t.defineComponent({__name:"Toaster",setup(e){return(o,n)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"VueHotToast__teleport-transition",tag:"div",class:"VueHotToast__teleport-transition"},{default:t.withCtx(()=>[t.createElementVNode("div",V,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a).notifications,s=>(t.openBlock(),t.createBlock(h,{key:s.id,id:s.id,type:s.type,message:s.message,"auto-close":s.autoClose,duration:s.duration,onClose:()=>{t.unref(C)(s.id)}},null,8,["id","type","message","auto-close","duration","onClose"]))),128))])]),_:1})]))}});function B(e){return d.loading(e,{autoClose:!1})}function O(e,o){d.update(o,{message:e,type:"success",autoClose:!0,duration:3e3})}function b(e,o){d.update(o,{message:w(e),type:"error",autoClose:!0,duration:3e3})}function w(e){if(!e)return"Undefined Error";if(typeof e=="string")return e;if(e instanceof Error){const o=e;return o.reason??o.message}else return JSON.stringify(e)}r.Toaster=E,r.toast=d,r.toastError=b,r.toastLoading=B,r.toastSuccess=O,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
