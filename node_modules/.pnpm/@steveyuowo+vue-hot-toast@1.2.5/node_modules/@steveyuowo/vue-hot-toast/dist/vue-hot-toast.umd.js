(function(a,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(a=typeof globalThis<"u"?globalThis:a||self,t(a["vue-hot-toast"]={},a.Vue))})(this,function(a,t){"use strict";const f=["onClick"],p={class:"VueHotToast__icon"},_={key:0},m=["src"],g={key:1,class:"VueHotToast__checkmark"},h={key:2,class:"VueHotToast__error"},y={key:3,class:"VueHotToast__loading"},x={class:"content"},k={class:"content-message"},T=t.defineComponent({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{},icon:{}},emits:["close"],setup(e,{emit:o}){const s=e,n=t.ref(null),c=t.ref(0),d=t.ref(0),u=()=>{o("close")};return t.watchEffect(()=>{s.autoClose&&(c.value=Date.now(),d.value=s.duration,n.value=setTimeout(u,d.value))}),(r,j)=>(t.openBlock(),t.createElementBlock("div",{class:"VueHotToast__toast",style:t.normalizeStyle(`--toast-duration: ${r.duration}s;`),onClick:t.withModifiers(u,["prevent"])},[t.createElementVNode("div",p,[r.icon?(t.openBlock(),t.createElementBlock("div",_,[t.createElementVNode("img",{class:"VueHotToast__custom-icon",src:r.icon,width:24,height:24,alt:"Toast Icon"},null,8,m)])):r.type==="success"?(t.openBlock(),t.createElementBlock("div",g)):r.type==="error"?(t.openBlock(),t.createElementBlock("div",h)):r.type==="loading"?(t.openBlock(),t.createElementBlock("div",y)):t.createCommentVNode("",!0)]),t.createElementVNode("div",x,[t.createElementVNode("div",k,t.toDisplayString(r.message),1)])],12,f))}}),E={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3};function B(){let e=new Date().getTime();var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(s=="x"?n:n&3|8).toString(16)});return o}const i=t.reactive({notifications:[]}),l=function(){const e=o=>{const s=Object.assign({...E},o),n=B();return i.notifications.push({id:n,...s}),n};return e.update=(o,s)=>{const n=i.notifications.findIndex(c=>c.id===o);if(n===-1)throw e(s),new Error("Can't find toast");return Object.assign(i.notifications[n],s),o},e._handleOptions=(o,s)=>{const n=Object.assign(s??{},{type:o});return e(n)},e.loading=(o,s)=>e._handleOptions("loading",Object.assign(s??{},{message:o})),e.success=(o,s)=>e._handleOptions("success",Object.assign(s??{},{message:o})),e.error=(o,s)=>e._handleOptions("error",Object.assign(s??{},{message:o})),e.promise=(o,s)=>{const n=e.loading(s.loading);return o.then(c=>(e.update(n,{message:s.success,type:"success"}),n)).catch(c=>{throw e.update(n,{message:s.error,type:"error"}),c})},e}(),V=e=>{const o=i.notifications.findIndex(s=>s.id===e);o!==-1&&i.notifications.splice(o,1)},C={class:"VueHotToast__toast-container"},O=t.defineComponent({__name:"Toaster",setup(e){return(o,s)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"VueHotToast__teleport-transition",tag:"div",class:"VueHotToast__teleport-transition"},{default:t.withCtx(()=>[t.createElementVNode("div",C,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i).notifications,n=>(t.openBlock(),t.createBlock(T,{key:n.id,id:n.id,type:n.type,message:n.message,"auto-close":n.autoClose,duration:n.duration,icon:n.icon,onClose:()=>{t.unref(V)(n.id)}},null,8,["id","type","message","auto-close","duration","icon","onClose"]))),128))])]),_:1})]))}});function b(e){return l.loading(e,{autoClose:!1})}function w(e,o){l.update(o,{message:e,type:"success",autoClose:!0,duration:3e3})}function H(e,o){l.update(o,{message:S(e),type:"error",autoClose:!0,duration:3e3})}function S(e){if(!e)return"Undefined Error";if(typeof e=="string")return e;if(e instanceof Error){const o=e;return o.reason??o.message}else return JSON.stringify(e)}a.Toaster=O,a.toast=l,a.toastError=H,a.toastLoading=b,a.toastSuccess=w,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
